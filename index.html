<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FBXLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/STLLoader.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        #canvas-container { width: 100%; height: 100%; }
        canvas { display: block; }
        .glass { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2); }
        .glow { box-shadow: 0 0 30px rgba(99, 102, 241, 0.3); }
        input[type="range"] { -webkit-appearance: none; background: rgba(255,255,255,0.2); border-radius: 10px; height: 6px; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 16px; height: 16px; background: #6366f1; border-radius: 50%; cursor: pointer; }
        .upload-zone { border: 2px dashed rgba(255,255,255,0.3); transition: all 0.3s ease; }
        .upload-zone:hover, .upload-zone.dragover { border-color: #6366f1; background: rgba(99, 102, 241, 0.1); }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen overflow-hidden">
    
    <!-- Header -->
    <header class="absolute top-0 left-0 right-0 z-10 p-4">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center glow">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"/>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold text-white">3D Model Viewer</h1>
            </div>
            <div id="model-info" class="glass rounded-xl px-4 py-2 text-white text-sm hidden">
                <span id="model-name">No model loaded</span>
            </div>
        </div>
    </header>

    <!-- Main Canvas -->
    <div id="canvas-container" class="w-full h-screen"></div>

    <!-- Upload Zone (shown when no model) -->
    <div id="upload-zone" class="absolute inset-0 flex items-center justify-center z-5">
        <div class="upload-zone rounded-3xl p-12 text-center cursor-pointer transition-all max-w-lg mx-4" onclick="document.getElementById('file-input').click()">
            <div class="w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-500/30 to-purple-600/30 rounded-full flex items-center justify-center">
                <svg class="w-12 h-12 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-white mb-2">Drop your 3D model here</h2>
            <p class="text-gray-400 mb-4">or click to browse files</p>
            <div class="flex flex-wrap justify-center gap-2">
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300">.GLB</span>
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300">.GLTF</span>
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300">.OBJ</span>
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300">.STL</span>
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300">.FBX</span>
            </div>
        </div>
        <input type="file" id="file-input" accept=".glb,.gltf,.obj,.stl,.fbx" class="hidden">
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="absolute inset-0 bg-black/80 flex items-center justify-center z-20 hidden">
        <div class="text-center">
            <div class="w-16 h-16 border-4 border-indigo-500/30 border-t-indigo-500 rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-white text-lg">Loading model...</p>
        </div>
    </div>

    <!-- Control Panel -->
    <div id="controls" class="absolute right-4 top-1/2 -translate-y-1/2 z-10 hidden">
        <div class="glass rounded-2xl p-4 space-y-4 w-64">
            <h3 class="text-white font-semibold flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                </svg>
                Controls
            </h3>
            
            <!-- Lighting -->
            <div>
                <label class="text-gray-300 text-sm mb-2 block">Light Intensity</label>
                <input type="range" id="light-intensity" min="0" max="3" step="0.1" value="1.5" class="w-full">
            </div>

            <!-- Background Color -->
            <div>
                <label class="text-gray-300 text-sm mb-2 block">Background</label>
                <div class="flex gap-2">
                    <button onclick="setBgColor(0x0f0f1a)" class="w-8 h-8 rounded-lg bg-[#0f0f1a] border-2 border-transparent hover:border-indigo-500"></button>
                    <button onclick="setBgColor(0x1a1a2e)" class="w-8 h-8 rounded-lg bg-[#1a1a2e] border-2 border-transparent hover:border-indigo-500"></button>
                    <button onclick="setBgColor(0x2d2d44)" class="w-8 h-8 rounded-lg bg-[#2d2d44] border-2 border-transparent hover:border-indigo-500"></button>
                    <button onclick="setBgColor(0x3d5a80)" class="w-8 h-8 rounded-lg bg-[#3d5a80] border-2 border-transparent hover:border-indigo-500"></button>
                    <button onclick="setBgColor(0xffffff)" class="w-8 h-8 rounded-lg bg-white border-2 border-transparent hover:border-indigo-500"></button>
                </div>
            </div>

            <!-- Grid Toggle -->
            <div class="flex items-center justify-between">
                <label class="text-gray-300 text-sm">Show Grid</label>
                <button id="grid-toggle" onclick="toggleGrid()" class="w-12 h-6 bg-indigo-500 rounded-full relative">
                    <span class="absolute right-1 top-1 w-4 h-4 bg-white rounded-full transition-all"></span>
                </button>
            </div>

            <!-- Wireframe Toggle -->
            <div class="flex items-center justify-between">
                <label class="text-gray-300 text-sm">Wireframe</label>
                <button id="wireframe-toggle" onclick="toggleWireframe()" class="w-12 h-6 bg-gray-600 rounded-full relative">
                    <span class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-all"></span>
                </button>
            </div>

            <!-- Auto Rotate -->
            <div class="flex items-center justify-between">
                <label class="text-gray-300 text-sm">Auto Rotate</label>
                <button id="rotate-toggle" onclick="toggleAutoRotate()" class="w-12 h-6 bg-gray-600 rounded-full relative">
                    <span class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-all"></span>
                </button>
            </div>

            <!-- View Buttons -->
            <div>
                <label class="text-gray-300 text-sm mb-2 block">Quick Views</label>
                <div class="grid grid-cols-3 gap-2">
                    <button onclick="setView('front')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Front</button>
                    <button onclick="setView('back')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Back</button>
                    <button onclick="setView('top')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Top</button>
                    <button onclick="setView('bottom')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Bottom</button>
                    <button onclick="setView('left')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Left</button>
                    <button onclick="setView('right')" class="px-3 py-2 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xs transition">Right</button>
                </div>
            </div>

            <!-- Zoom Controls -->
            <div>
                <label class="text-gray-300 text-sm mb-2 block">Zoom</label>
                <div class="flex gap-2">
                    <button onclick="zoomIn()" class="flex-1 py-3 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xl font-bold transition flex items-center justify-center gap-1 active:scale-95">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"/>
                        </svg>
                    </button>
                    <button onclick="zoomOut()" class="flex-1 py-3 bg-white/10 hover:bg-indigo-500/50 rounded-lg text-white text-xl font-bold transition flex items-center justify-center gap-1 active:scale-95">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Reset & New Model -->
            <div class="pt-2 border-t border-white/10 space-y-2">
                <button onclick="resetCamera()" class="w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition flex items-center justify-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                    </svg>
                    Reset View
                </button>
                <button onclick="loadNewModel()" class="w-full py-2 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 rounded-lg text-white text-sm transition flex items-center justify-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                    </svg>
                    Load New Model
                </button>
            </div>
        </div>
    </div>

    <!-- Instructions -->
    <div id="instructions" class="absolute bottom-4 left-1/2 -translate-x-1/2 z-10 hidden">
        <div class="glass rounded-xl px-6 py-3 flex items-center gap-6 text-sm text-gray-300">
            <span class="flex items-center gap-2">
                <span class="w-6 h-6 bg-white/20 rounded flex items-center justify-center text-xs">üñ±Ô∏è</span>
                Rotate
            </span>
            <span class="flex items-center gap-2">
                <span class="w-6 h-6 bg-white/20 rounded flex items-center justify-center text-xs">‚ö≤</span>
                Zoom
            </span>
            <span class="flex items-center gap-2">
                <span class="w-6 h-6 bg-white/20 rounded flex items-center justify-center text-xs">‚áß</span>
                + Drag to Pan
            </span>
        </div>
    </div>

    <!-- Floating Zoom Buttons (for touch/no mouse) -->
    <div id="floating-zoom" class="absolute left-4 bottom-4 z-10 hidden">
        <div class="glass rounded-2xl p-2 flex flex-col gap-2">
            <button onclick="zoomIn()" class="w-12 h-12 bg-white/10 hover:bg-indigo-500/50 rounded-xl text-white text-2xl font-bold transition flex items-center justify-center active:scale-95 active:bg-indigo-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v12m6-6H6"/>
                </svg>
            </button>
            <button onclick="zoomOut()" class="w-12 h-12 bg-white/10 hover:bg-indigo-500/50 rounded-xl text-white text-2xl font-bold transition flex items-center justify-center active:scale-95 active:bg-indigo-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6"/>
                </svg>
            </button>
            <div class="w-full h-px bg-white/20"></div>
            <button onclick="resetCamera()" class="w-12 h-12 bg-white/10 hover:bg-indigo-500/50 rounded-xl text-white transition flex items-center justify-center active:scale-95 active:bg-indigo-500" title="Reset View">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        let scene, camera, renderer, controls, currentModel, gridHelper;
        let ambientLight, directionalLight, directionalLight2;
        let isWireframe = false;
        let isAutoRotate = false;
        let showGrid = true;

        // Initialize Three.js
        function init() {
            const container = document.getElementById('canvas-container');

            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0f0f1a);

            // Camera
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(5, 3, 5);

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.outputEncoding = THREE.sRGBEncoding;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1;
            container.appendChild(renderer.domElement);

            // Controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = true;
            controls.minDistance = 0.5;
            controls.maxDistance = 100;

            // Lights
            ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);

            directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 10, 7);
            directionalLight.castShadow = true;
            scene.add(directionalLight);

            directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.5);
            directionalLight2.position.set(-5, 5, -5);
            scene.add(directionalLight2);

            // Grid
            gridHelper = new THREE.GridHelper(20, 20, 0x444466, 0x333355);
            scene.add(gridHelper);

            // Handle window resize
            window.addEventListener('resize', onWindowResize);

            // Start animation loop
            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            if (isAutoRotate && currentModel) {
                currentModel.rotation.y += 0.005;
            }
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // File handling
        const fileInput = document.getElementById('file-input');
        const uploadZone = document.getElementById('upload-zone');

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                loadModel(e.target.files[0]);
            }
        });

        // Drag and drop
        document.body.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.querySelector('.upload-zone').classList.add('dragover');
        });

        document.body.addEventListener('dragleave', (e) => {
            e.preventDefault();
            uploadZone.querySelector('.upload-zone').classList.remove('dragover');
        });

        document.body.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.querySelector('.upload-zone').classList.remove('dragover');
            if (e.dataTransfer.files.length > 0) {
                loadModel(e.dataTransfer.files[0]);
            }
        });

        function loadModel(file) {
            const loading = document.getElementById('loading');
            loading.classList.remove('hidden');

            const fileName = file.name.toLowerCase();
            const fileURL = URL.createObjectURL(file);

            // Remove existing model
            if (currentModel) {
                scene.remove(currentModel);
            }

            let loader;

            if (fileName.endsWith('.glb') || fileName.endsWith('.gltf')) {
                loader = new THREE.GLTFLoader();
                loader.load(fileURL, (gltf) => {
                    currentModel = gltf.scene;
                    processModel(file.name);
                }, undefined, handleError);
            } else if (fileName.endsWith('.obj')) {
                loader = new THREE.OBJLoader();
                loader.load(fileURL, (obj) => {
                    currentModel = obj;
                    // Add default material if none exists
                    currentModel.traverse((child) => {
                        if (child.isMesh && !child.material) {
                            child.material = new THREE.MeshStandardMaterial({ color: 0x888888 });
                        }
                    });
                    processModel(file.name);
                }, undefined, handleError);
            } else if (fileName.endsWith('.stl')) {
                loader = new THREE.STLLoader();
                loader.load(fileURL, (geometry) => {
                    const material = new THREE.MeshStandardMaterial({ color: 0x888888 });
                    currentModel = new THREE.Mesh(geometry, material);
                    processModel(file.name);
                }, undefined, handleError);
            } else if (fileName.endsWith('.fbx')) {
                loader = new THREE.FBXLoader();
                loader.load(fileURL, (fbx) => {
                    currentModel = fbx;
                    processModel(file.name);
                }, undefined, handleError);
            } else {
                handleError(new Error('Unsupported file format'));
            }
        }

        function processModel(name) {
            // Center and scale model
            const box = new THREE.Box3().setFromObject(currentModel);
            const center = box.getCenter(new THREE.Vector3());
            const size = box.getSize(new THREE.Vector3());

            const maxDim = Math.max(size.x, size.y, size.z);
            const scale = 3 / maxDim;
            currentModel.scale.multiplyScalar(scale);

            box.setFromObject(currentModel);
            box.getCenter(center);
            currentModel.position.sub(center);
            currentModel.position.y += (size.y * scale) / 2;

            // Enable shadows
            currentModel.traverse((child) => {
                if (child.isMesh) {
                    child.castShadow = true;
                    child.receiveShadow = true;
                }
            });

            scene.add(currentModel);
            resetCamera();

            // Update UI
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('upload-zone').classList.add('hidden');
            document.getElementById('controls').classList.remove('hidden');
            document.getElementById('instructions').classList.remove('hidden');
            document.getElementById('floating-zoom').classList.remove('hidden');
            document.getElementById('model-info').classList.remove('hidden');
            document.getElementById('model-name').textContent = name;
        }

        function handleError(error) {
            console.error('Error loading model:', error);
            document.getElementById('loading').classList.add('hidden');
            alert('Error loading model. Please try a different file.');
        }

        // Control functions
        function setBgColor(color) {
            scene.background = new THREE.Color(color);
        }

        function toggleGrid() {
            showGrid = !showGrid;
            gridHelper.visible = showGrid;
            const btn = document.getElementById('grid-toggle');
            const span = btn.querySelector('span');
            if (showGrid) {
                btn.classList.remove('bg-gray-600');
                btn.classList.add('bg-indigo-500');
                span.classList.remove('left-1');
                span.classList.add('right-1');
            } else {
                btn.classList.remove('bg-indigo-500');
                btn.classList.add('bg-gray-600');
                span.classList.remove('right-1');
                span.classList.add('left-1');
            }
        }

        function toggleWireframe() {
            isWireframe = !isWireframe;
            if (currentModel) {
                currentModel.traverse((child) => {
                    if (child.isMesh) {
                        child.material.wireframe = isWireframe;
                    }
                });
            }
            const btn = document.getElementById('wireframe-toggle');
            const span = btn.querySelector('span');
            if (isWireframe) {
                btn.classList.remove('bg-gray-600');
                btn.classList.add('bg-indigo-500');
                span.classList.remove('left-1');
                span.classList.add('right-1');
            } else {
                btn.classList.remove('bg-indigo-500');
                btn.classList.add('bg-gray-600');
                span.classList.remove('right-1');
                span.classList.add('left-1');
            }
        }

        function toggleAutoRotate() {
            isAutoRotate = !isAutoRotate;
            const btn = document.getElementById('rotate-toggle');
            const span = btn.querySelector('span');
            if (isAutoRotate) {
                btn.classList.remove('bg-gray-600');
                btn.classList.add('bg-indigo-500');
                span.classList.remove('left-1');
                span.classList.add('right-1');
            } else {
                btn.classList.remove('bg-indigo-500');
                btn.classList.add('bg-gray-600');
                span.classList.remove('right-1');
                span.classList.add('left-1');
            }
        }

        document.getElementById('light-intensity').addEventListener('input', (e) => {
            const intensity = parseFloat(e.target.value);
            directionalLight.intensity = intensity;
            directionalLight2.intensity = intensity * 0.5;
            ambientLight.intensity = intensity * 0.3;
        });

        function setView(view) {
            const distance = 6;
            let position;
            switch(view) {
                case 'front': position = new THREE.Vector3(0, 0, distance); break;
                case 'back': position = new THREE.Vector3(0, 0, -distance); break;
                case 'top': position = new THREE.Vector3(0, distance, 0.01); break;
                case 'bottom': position = new THREE.Vector3(0, -distance, 0.01); break;
                case 'left': position = new THREE.Vector3(-distance, 0, 0); break;
                case 'right': position = new THREE.Vector3(distance, 0, 0); break;
            }
            camera.position.copy(position);
            controls.target.set(0, 0, 0);
            controls.update();
        }

        function resetCamera() {
            camera.position.set(5, 3, 5);
            controls.target.set(0, 0, 0);
            controls.update();
        }

        function zoomIn() {
            const direction = new THREE.Vector3();
            camera.getWorldDirection(direction);
            camera.position.addScaledVector(direction, 0.5);
            controls.update();
        }

        function zoomOut() {
            const direction = new THREE.Vector3();
            camera.getWorldDirection(direction);
            camera.position.addScaledVector(direction, -0.5);
            controls.update();
        }

        function loadNewModel() {
            document.getElementById('file-input').click();
        }

        // Initialize
        init();
    </script>
</body>
</html>
